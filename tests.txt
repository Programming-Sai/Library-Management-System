```ftt

src/main/java/org/ebenlib/cli/
â”‚
â”œâ”€ CommandRouter.java         # Handles parsing args[] and routing to correct handler
â”œâ”€ InteractiveCLI.java        # Runs menu-driven CLI with color, paging, etc.
â”œâ”€ MenuPrinter.java           # Utility: handles colored text, menus, user input
â”œâ”€ LoginHandler.java          # Processes login (from CLI or interactive)
â””â”€ CommandArgs.java           # Utility: parses and stores --key=value args

```



Yes â€” I get exactly what you're saying.

Since you're not allowed to use 3rd-party tools like JUnit, we'll test the app **manually through CLI**, but still follow a structured QA-style test plan. That means:

- We'll test **signup**, then **signin**, then **signout**
- Weâ€™ll also test edge cases like duplicate signup, incorrect password, etc.
- Every test will be a command you can paste into the terminal
- Iâ€™ll mark expected outputs so you can visually confirm things are working

---

## âœ… MANUAL TEST PLAN FOR AUTHENTICATION

### ğŸ§ª ENVIRONMENT PREP

Before running these, ensure that no one is signed in:

```bash
del src\main\resources\session.dat
```

---

## ğŸ” 1. SIGNUP TEST CASES

---

### âœ… 1.1 Signup with new user (valid)

```bash
./gradlew.bat run --quiet --args="auth signup -u admin -p 1234 --confirm-password 1234 --role Librarian"
```

**Expected Output:**

```
âœ… Signup successful! You can now signin as admin (Librarian)
```

---

### âŒ 1.2 Signup with username already taken

```bash
./gradlew.bat run --quiet --args="auth signup -u admin -p 1234 --confirm-password 1234"
```

**Expected Output:**

```
âŒ That username is already taken.
```

---

### âŒ 1.3 Signup with mismatched passwords

```bash
./gradlew.bat run --quiet --args="auth signup -u user1 -p pass1 --confirm-password wrongpass"
```

**Expected Output:**

```
âŒ Password and confirm-password do not match.
```

---

### âŒ 1.4 Signup with invalid role

```bash
./gradlew.bat run --quiet --args="auth signup -u user2 -p pass2 --confirm-password pass2 --role SuperAdmin"
```

**Expected Output:**

```
âŒ Role must be either 'Reader' or 'Librarian'.
```

---

## ğŸ”‘ 2. SIGNIN TEST CASES

---

### âœ… 2.1 Signin with correct credentials

```bash
./gradlew.bat run --quiet --args="auth signin -u admin -p 1234"
```

**Expected Output:**

```
âœ… Signin successful! Welcome, admin (Librarian)
```

---

### âŒ 2.2 Signin when already signed in

```bash
./gradlew.bat run --quiet --args="auth signin -u user1 -p pass1"
```

**Expected Output:**

```
? A user is already signed in. Please sign out first.
```

---

## ğŸšª 3. SIGNOUT TEST CASES

---

### âœ… 3.1 Signout while signed in

```bash
./gradlew.bat run --quiet --args="auth signout"
```

**Expected Output:**

```
ğŸ‘‹ Signed out successfully.
```

---

### âŒ 3.2 Signout when no user is signed in

```bash
./gradlew.bat run --quiet --args="auth signout"
```

**Expected Output:**

```
âš ï¸ No active session found. You're not signed in.
```

---

## ğŸ” 4. SIGNIN AGAIN AFTER SIGNOUT

---

### âœ… 4.1 Signin again with a different user

```bash
./gradlew.bat run --quiet --args="auth signup -u user3 -p pass3 --confirm-password pass3"
```

```bash
./gradlew.bat run --quiet --args="auth signin -u user3 -p pass3"
```

**Expected Output:**

```
âœ… Signup successful!
âœ… Signin successful! Welcome, user3 (Reader)
```

---

## â“ 5. OTHER EDGE CASES

---

### âŒ 5.1 Missing required args on signin

```bash
./gradlew.bat run --quiet --args="auth signin -u user3"
```

**Expected Output:**

```
âŒ Both -u/--username and -p/--password are required for signin.
```

---

### âŒ 5.2 Invalid credentials

```bash
./gradlew.bat run --quiet --args="auth signin -u user3 -p wrongpass"
```

**Expected Output:**

```
âŒ Signin failed: Invalid credentials.
```

---

## ğŸ§¼ Cleanup (Optional)

Delete session and users if needed for retesting:

```bash
del src\main\resources\session.dat
del src\main\resources\users.csv
```

---

## âœ… SUMMARY OF FEATURES TESTED

| Feature        | Test Cases                               |
| -------------- | ---------------------------------------- |
| Signup         | Valid, duplicate, invalid role, mismatch |
| Signin         | Valid, already signed in, invalid creds  |
| Signout        | Signed in, not signed in                 |
| Error Handling | Missing args, session control            |

---

Let me know when you're done running these and we can move to the **RBAC checks** or **menu system**.
